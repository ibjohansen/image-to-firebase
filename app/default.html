<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <title>Bildefangst med getUserMedia og canvas</title>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content=""/>
    <meta name="copyright" content="Ib Johansen - 2014"/>

    <!-- bootstrap -->
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

    <!-- app-spesifikk css -->
    <link rel="stylesheet" href="/app/css/app.css">

    <!-- jQuery -->
    <script src="/app/js/vendor/jquery-2.1.1.min.js"></script>
</head>

<body>

<div id="logo">
    <a href="http://www.inmeta.no" target="_blank"><img src="/app/img/logo_inmeta.svg" alt="Inmeta Consulting AS"/></a>
</div>

<!-- content -->
<div id="content">

    <div class="content-overlay"></div>
    <div class="container">

        <div class="row">
            <div class="col-lg-12 col-md-12">
                <div id="user-name">Brukernavn:</div>
            </div>
        </div>

        <div class="row">

            <!--venstre kolonne-->
            <div class="col-lg-6 col-md-6">

                <!-- video-element & photo-knapp -->
                <h3>Videostrøm fra web-cam i video-element</h3>
                <video autoplay="true" id="webcam-video" class="video-elm"></video>

                <!--Metadata-->
                <div class="form-group" id="meta-data">
                    <label class="control-label" for="meta-title">Bildetittel</label>
                    <input type="text" class="form-control" id="meta-title"
                           placeholder="Skriv inn en tittel på bildet">
                </div>

                <div class="btn-group">
                <button id="webcam-photo" type="button" class="capture-image-elm btn btn-default btn-small">
                    <span class="glyphicon glyphicon-camera"></span> Ta bilde
                </button>

                <button id="get-firebase-btn" type="button" class="capture-image-elm btn btn-default btn-small">
                    <span class="glyphicon glyphicon-fire"></span> Koble opp Firebase
                </button>
                </div>

                <!-- canvas som vi skal tegne bildet på -->
                <h3>canvas-element som funksjonen snapshot() tegner bildet på</h3>
                <canvas id="snapshot-canvas" class="canvas-elm"></canvas>

                <!-- img element for å vise bildet fra videostrøm -->
                <!-- merk det tomme src-atributtet -->
                <h3>img-element som funksjonen populerer src-atributtet til i funksjonen snapshot()</h3>
                <img id="snapshot-img" src="">

            </div>

            <!--høyre kolonne-->

            <div class="col-lg-6 col-md-6">


                <h3>Bilder hentet fra Firebase</h3>

                <br/>

                <img id="spinner" src="/app/img/ajax-loader.gif" style="display: none">

                <div id="img-list">

                </div>
            </div>

        </div>

    </div>
</div>


<!-- script -->
<script src="/app/js/vendor/jquery-ui.min.js"></script>
<script src='/app/js/vendor/firebase.js'></script>
<script src="/app/js/app.js"></script>

<!--templates-->
<div id="templates">

    <div class="img-container">
        <div class="img-frame">
            <img class="img-image" src="">

            <div class="img-meta-data"></div>
        </div>
    </div>

</div>

<div class="clear"></div>

<footer>
    <a href="http://www.inmeta.no" target="_blank">&copy; Copyright 2014 Ib Johansen, Inmeta Consulting AS</a>
</footer>

</body>

</html>